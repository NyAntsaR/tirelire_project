<%- include('../partials/header') %>
<!----------------------------ADD NEW EXPENSE-------------------->
    <section id="show-page">
        <div>Name: </div>
        <div><%= expense.store %></div>
        <div>Date: </div>
        <div><%= expense.date %></div>
        <div>Amount: </div>
        <div><%= expense.amount %></div>
        <div>Category: </div>
        <ul>
            <%- expense.category.map(c => 
                `<li>${c.name}</li>`
            ).join('') %>
        </ul>

    </section>

<!----------------------------ADD CATEGORY-------------------->
    <form id="add-cat-to-exp" action="/expenses/<%= expense._id%>/categories" method="POST">
        <select name="categoryId">
            <%- categories.map(c => `<option value="${c._id}">${c.name}</option>`).join('') %>
        </select>
        <button type="submit">Add to Category</button>
    </form>

 <!----------------------------ADD COMMENT-------------------->
<form id="add-comment-form" method="POST"
  action="/expenses/<%= expense._id %>/comments">
  <label>Comment:</label>
  <textarea name="content"></textarea>
  
  <input type="submit" value="Add Comment">
</form>

<% if (expense.comments.length) { %>
    <table>
      <thead>
        <tr>
          <th>Comment</th>
        </tr>
      </thead>

      <tbody>
        <% expense.comments.forEach(function(c) { %>
          <tr>
            <td><%= c.content %></td>
          </tr>
          <% }); %>
      </tbody>
    </table>
  <% } else { %>
    <h5>No Comment Yet</h5>
  <% } %>
    

<%- include('../partials/footer') %>